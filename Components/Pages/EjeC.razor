@page "/ejeD"

<div>
    <h1>Ejercicios 18</h1>
    <p>
        Construir una función que reciba como parámetro un valor entero y retornar 1 si dicho valor es
        el factorial de alguno de los dígitos del número. Deberá retornar O si no es así
    </p>
    <h1>El Resultado es: @Results</h1>
</div>

@code {
    [Parameter]
    public int numero { get; set; }
    [Parameter]
    public int valor { get; set; }
    public int Results { get; set; }
    public void EsFactorialDeUnDigito()
    {
        // Función auxiliar para calcular el factorial
        int CalcularFactorial(int n)
        {
            if (n == 0 || n == 1)
                return 1;
            int resultado = 1;
            for (int i = 2; i <= n; i++)
            {
                resultado *= i;
            }
            return resultado;
        }

        // Convertimos el número a positivo por si es negativo
        string numeroStr = Math.Abs(numero).ToString();

        // Recorremos cada dígito del número
        foreach (char digitoChar in numeroStr)
        {
            int digito = int.Parse(digitoChar.ToString());

            // Calculamos el factorial del dígito
            int factorial = CalcularFactorial(digito);

            // Comparamos si el valor dado es igual al factorial del dígito
            if (factorial == valor)
            {
                Results = 1; // Retorna 1 si coincide
            }
        }

        Results = 0; // Retorna 0 si no coincide con ningún factorial
    }

    protected override void OnParametersSet()
    {
        EsFactorialDeUnDigito();
    }

}